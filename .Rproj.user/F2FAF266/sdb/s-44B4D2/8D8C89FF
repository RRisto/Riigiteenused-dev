{
    "collab_server" : "",
    "contents" : "#andmed pikaks, v√µtab eelenvad funktsioonid kokku, iga\n#aasta andmed teeb pikaks, kasutab data.table'i formaati\n#' @export\nandmedPikaksDT=function(andmedLai) {\n  library(data.table)\n  andmed=data.table(andmedLai)\n  #turn into list based on measuring years\n  andmedLaiList=list(\n    andmedLai.2015=andmed[, !grepl(\"empty.|2011.|2013.|2012.|2014.\",\n                                names(andmed)), with=F],\n  andmedLai.2014=andmed[, !grepl(\"empty.|2011.|2013.|2012.|2015.\",\n                                names(andmed)), with=F],\n  andmedLai.2013=andmed[, !grepl(\"empty.|2011.|2012.|2014.|2015.\",\n                                names(andmed)), with=F],\n  andmedLai.2012=andmed[, !grepl(\"empty.|2011.|2013.|2014.|2015.\",\n                                names(andmed)), with=F],\n  andmedLai.2011=andmed[, !grepl(\"empty.|2014.|2013.|2012.|2015.\",\n                                names(andmed)), with=F],\n  andmedLai.Empty=andmed[, !grepl(\"2014.|2011.|2013.|2012.|2015.\",\n                                 names(andmed)), with=F])\n\n  years=gsub(\"[^0-9]\",\"\",names(andmedLaiList))#get years\n  years=ifelse(nchar(years)==0, \"empty\", years)#replace empty with \"empty\"\n  years=as.list(years)#make it list\n\n  andmedLaiList=Map(cbind, andmedLaiList, year = years)#add measuring years\n  #lapply through korrastajaDT\n  andmedLaiList <- lapply(andmedLaiList,\n                          function(df) {\n    korrastajaDT(df, paste0(df$year,\".\"), df$year)\n  })\n  #return as one data frame/tables\n  andmedPikk=rbindlist(andmedLaiList, fill=TRUE)\n  andmedPikk[, value:=as.numeric(as.character(value))]#make char to value\n}\n",
    "created" : 1453812617420.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "382044906",
    "id" : "8D8C89FF",
    "lastKnownWriteTime" : 1469386347,
    "last_content_update" : 1469386347623,
    "path" : "~/R/riigiteenused - Copy/R/andmedPikaks.R",
    "project_path" : "R/andmedPikaks.R",
    "properties" : {
        "chunk_rendered_width" : "650",
        "tempName" : "Untitled1"
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}